<!doctype html>
<html lang="vi">
<head>

  ...
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TV2D6YZ1BM"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-TV2D6YZ1BM');
  </script>
</head>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tr∆∞∆°ng Ph√∫ Thanh ‚Äî Portfolio</title>
<meta name="description" content="Tr∆∞∆°ng Ph√∫ Thanh ‚Äî Mechatronic Engineer. Thi·∫øt k·∫ø CAD, SolidWorks, NX, PLC.">
<meta property="og:title" content="Tr∆∞∆°ng Ph√∫ Thanh ‚Äî Portfolio">
<meta property="og:description" content="Mechatronic Engineer, chuy√™n thi·∫øt k·∫ø c∆° kh√≠ & t·ªëi ∆∞u s·∫£n xu·∫•t.">
<meta property="og:image" content="cover.jpg">
<link rel="icon" href="favicon.ico">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">


<style>
  #qr-popup {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}
#qr-popup.active { display: flex; }

@keyframes zoomIn {
  from { transform: scale(0.8); opacity:0; }
  to { transform: scale(1); opacity:1; }
}

  :root{
    --bg: linear-gradient(135deg,#fbfdff 0%, #eef6ff 100%);
    --card:#ffffff;
    --muted:#5b6b7a;
    --accent:#2b6cb0;
    --accent-2:#ff7b54;
    --glass: rgba(255,255,255,0.75);
    --radius:14px;
    --container:1180px;
    --ff:'Inter',system-ui,-apple-system,'Segoe UI',Roboto,Arial;
  }
  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  body{margin:0;font-family:var(--ff);background:var(--bg);color:#122; -webkit-font-smoothing:antialiased;position:relative;min-height:100vh}

  /* particle canvas sits behind everything */
  #particle-canvas{position:fixed;inset:0;z-index:0;pointer-events:none}
  .container{max-width:var(--container);margin:0 auto;padding:28px;position:relative;z-index:1}

  /* Header */
  header{display:flex;align-items:center;justify-content:space-between;gap:18px;padding:12px;background:var(--glass);backdrop-filter:blur(6px);border-radius:999px;box-shadow:0 8px 28px rgba(11,20,43,0.06);position:sticky;top:16px;z-index:60}
  .brand{display:flex;align-items:center;gap:12px}
  .avatar{width:66px;height:66px;border-radius:12px;overflow:hidden;border:2px solid rgba(11,20,43,0.06)}
  .avatar img{width:100%;height:100%;object-fit:cover;display:block}
  .meta{line-height:1}
  .site-name{font-weight:800;font-size:15px}
  .nav{display:flex;gap:12px;align-items:center}
  .nav a{color:var(--accent);text-decoration:none;font-weight:600;padding:8px 12px;border-radius:10px;transition:all .2s}
  .nav a:hover{background:rgba(43,108,176,0.06);transform:translateY(-2px)}

  /* Hero */
  .hero{display:grid;grid-template-columns:1fr 440px;gap:36px;align-items:center;padding:56px 0}
  .title{font-size:44px;line-height:1.02;margin:0;font-weight:800}
  .typing{color:var(--accent);white-space:nowrap}
  .lead{margin-top:12px;color:var(--muted);font-size:18px}
  .kpis{display:flex;gap:14px;margin-top:20px;flex-wrap:wrap}
  .kpi{background:var(--card);padding:12px;border-radius:12px;box-shadow:0 10px 30px rgba(11,20,43,0.06);min-width:130px;text-align:center}
  .kpi .num{font-weight:800;font-size:18px}
  .ctas{display:flex;gap:12px;margin-top:18px;flex-wrap:wrap}
  .btn{display:inline-flex;align-items:center;gap:10px;padding:10px 18px;border-radius:12px;border:0;cursor:pointer;font-weight:800;text-decoration:none;color:white;box-shadow:0 10px 30px rgba(11,20,43,0.08);transition:transform .18s,box-shadow .18s}
  .btn:hover{transform:translateY(-4px)}
  .btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent-2))}
  .btn-download{background:linear-gradient(90deg,#06b6d4,#3b82f6)}
  .btn-ghost{background:transparent;color:var(--accent);border:1px solid rgba(43,108,176,0.12);color:var(--accent);}

  /* animated gradient border for hero card */
  .hero-card{position:relative;border-radius:16px;padding:14px;background:var(--card);box-shadow:0 14px 40px rgba(11,20,43,0.06);overflow:hidden}
  .hero-card:before{content:"";position:absolute;inset:0;padding:2px;border-radius:16px;background:linear-gradient(90deg,#ffffff00,#ffffff00);pointer-events:none}
  .hero-card img{width:100%;height:250px;object-fit:cover;border-radius:10px;display:block}

  /* Projects */
  .section{margin-top:48px}
  .projects{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
  .project{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 10px 30px rgba(11,20,43,0.04);transform:translateY(0);transition:transform .3s,box-shadow .3s;transform-style:preserve-3d}
  .project:hover{transform:translateY(-8px);box-shadow:0 18px 50px rgba(11,20,43,0.08)}
  .project h4{margin:0 0 8px}
  .project p{color:var(--muted);margin:0;font-size:14px}

  /* 3D effect inner shadow */
  .project .card-inner{transform-origin:center center;transition:transform 0.12s ease-out}

  /* Gallery */
  .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px}
  .thumb{position:relative;overflow:hidden;border-radius:10px;transform-style:preserve-3d}
  .thumb img{width:100%;height:180px;object-fit:cover;display:block;transform-origin:center center;transition:transform .8s cubic-bezier(.2,.9,.2,1),filter .5s,opacity .4s}
  .thumb .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0) 40%, rgba(0,0,0,0.28));opacity:0;transition:opacity .25s;display:flex;align-items:flex-end;padding:12px;color:#fff;font-weight:700}
  .thumb:hover .overlay{opacity:1}
  .thumb img.zoomed{transform:scale(1.07)}
  .thumb img.loaded{opacity:1;filter:none}
  .thumb img{opacity:0.85;filter:blur(6px)}

  /* CV */
  .cv-wrap{display:flex;gap:18px;align-items:flex-start;flex-wrap:wrap}
  .cv-card{flex:0 0 360px;background:var(--card);padding:16px;border-radius:12px;box-shadow:0 10px 30px rgba(11,20,43,0.06)}
  .embed-cv{flex:1;min-width:280px;border-radius:10px;overflow:hidden;border:1px solid #eef4fb;background:#fff}

  /* Contact */
  .contact{margin-top:18px;background:linear-gradient(180deg, rgba(235,245,255,0.9), rgba(255,255,255,0.95));padding:16px;border-radius:12px;display:flex;justify-content:space-between;align-items:center;gap:12px;box-shadow:0 10px 30px rgba(11,20,43,0.04);flex-wrap:wrap}
  .contact .left{display:flex;flex-direction:column;gap:6px}
  .socials{display:flex;gap:10px;align-items:center}

  /* Lightbox modal */
  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);z-index:999}
  .modal.active{display:flex}
  .modal img{max-width:92vw;max-height:88vh;border-radius:10px;box-shadow:0 30px 80px rgba(2,6,23,0.7)}

  footer{text-align:center;color:var(--muted);margin-top:40px;padding-bottom:40px;font-size:14px}

  @media (max-width:1000px){
    .hero{grid-template-columns:1fr;gap:28px}
    .projects{grid-template-columns:repeat(2,1fr)}
    .gallery{grid-template-columns:repeat(2,1fr)}
    .cv-wrap{flex-direction:column}
  }
  @media (max-width:600px){
    .projects{grid-template-columns:1fr}
    .gallery{grid-template-columns:1fr}
    .nav{display:none}
  }

  /* Reveal animations */
  .reveal{opacity:0;transform:translateY(18px);transition:all 700ms cubic-bezier(.2,.9,.2,1)}
  .reveal.in{opacity:1;transform:none}

  /* typing caret */
  .caret{display:inline-block;width:2px;height:1.1em;background:var(--accent);margin-left:6px;animation:blink 1s steps(2) infinite}
  @keyframes blink{50%{opacity:0}}

/* ================= Chatbox m·ªõi ho√†n h·∫£o ================= */
#chat-toggle {
  position: fixed;
  right: 20px;
  bottom: 100px;          /* tr√°nh icon nh·∫°c */
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-size: 28px;
  z-index: 99999;         /* lu√¥n n·ªïi tr√™n m·ªçi ph·∫ßn t·ª≠ */
  box-shadow: 0 8px 30px rgba(11,20,43,0.35);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
#chat-toggle:hover {
  transform: scale(1.1);
  box-shadow: 0 12px 40px rgba(11,20,43,0.45);
}

/* Chat panel */
#chat-panel {
  position: fixed;
  right: 20px;
  bottom: 170px;
  width: 320px;
  max-height: 70vh;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.25);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transform: translateY(12px);
  opacity: 0;
  pointer-events: none;
  transition: all 0.25s ease;
  font-family: var(--ff);
  z-index: 99998;          /* cao h∆°n n·ªôi dung kh√°c nh∆∞ng th·∫•p h∆°n n√∫t toggle */
}

/* M·ªü chat */
#chat-panel.open {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

/* Header chat */
#chat-panel header {
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  color: #fff;
  padding: 10px 14px;
  font-weight: 700;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
}

/* Messages */
#chat-panel .messages {
  flex: 1;
  background: #f9fbff;
  padding: 12px;
  overflow-y: auto;
  font-size: 14px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.message {
  max-width: 80%;
  padding: 8px 12px;
  border-radius: 12px;
  line-height: 1.4;
}

.message.user {
  background: #eef7ff;
  align-self: flex-end;
}

.message.bot {
  background: #f1f1f1;
  align-self: flex-start;
}

/* Form chat */
#chat-panel form {
  display: flex;
  border-top: 1px solid #eee;
}

#chat-panel input {
  flex: 1;
  padding: 10px;
  border: none;
  outline: none;
  font-size: 14px;
}

#chat-panel button {
  border: none;
  padding: 0 16px;
  background: var(--accent);
  color: #fff;
  cursor: pointer;
  font-weight: 600;
  transition: background 0.2s;
}
#chat-panel button:hover {
  background: var(--accent-2);
}

/* N√∫t ƒë√≥ng chat */
#chat-close {
  background: none;
  border: none;
  color: #fff;
  font-size: 18px;
  cursor: pointer;
  transition: transform 0.2s ease;
}
#chat-close:hover {
  transform: scale(1.2);
}

/* Responsive cho mobile */
@media (max-width: 600px) {
  #chat-toggle {
    left: 20px;
    right: auto;
  }
  #chat-panel {
    left: 20px;
    right: auto;
  }
}


  /* tiny helpers */
  .muted{color:var(--muted)}
</style>
</head>
<body>
  <!-- particle canvas -->
  <canvas id="particle-canvas" aria-hidden="true"></canvas>

  <div class="container">
    <!-- header -->
    <header>
      <div class="brand">
        <div class="avatar"><img src="anhdaidien.jpg" alt="·∫¢nh ƒë·∫°i di·ªán"></div>
        <div class="meta">
          <div class="site-name">Tr∆∞∆°ng Ph√∫ Thanh</div>
          <div style="font-size:13px;color:var(--muted)">Mechatronic Engineer ‚Äî CAD & Automation</div>
        </div>
      </div>

      <nav class="nav" aria-label="Main navigation">
        <a href="#home">Home</a>
        <a href="#work">D·ª± √°n</a>
        <a href="#gallery">·∫¢nh</a>
        <a href="#cv">CV</a>
        <a href="#contact">Li√™n h·ªá</a>
      </nav>
    </header>

    <!-- hero -->
    <main>
      <section id="home" class="hero">
        <div>
          <h1 class="title">Xin ch√†o ‚Äî T√¥i l√† <span style="color:var(--accent)">Thanh</span></h1>
          <div style="margin-top:10px;font-weight:700;font-size:20px">Tr∆∞∆°ng Thanh <span id="typing" class="typing"></span><span class="caret" aria-hidden="true"></span></div>
          <p class="lead">K·ªπ s∆∞ C∆° ƒëi·ªán t·ª≠ ‚Äî Thi·∫øt k·∫ø CAD (SolidWorks, NX), t·ªëi ∆∞u quy tr√¨nh s·∫£n xu·∫•t & h·ªá th·ªëng ƒëi·ªÅu khi·ªÉn.</p>

          <div class="kpis">
            <div class="kpi"><div class="num">0852 040 103</div><div style="color:var(--muted)">Hotline</div></div>
            <div class="kpi"><div class="num">88+</div><div style="color:var(--muted)">D·ª± √°n & s·∫£n ph·∫©m</div></div>
            <div class="kpi"><div class="num">Hanoi</div><div style="color:var(--muted)">ƒê·ªãa ƒëi·ªÉm</div></div>
          </div>

          <div class="ctas">
            <a class="btn btn-primary" href="#contact">Nh·∫≠n t∆∞ v·∫•n</a>
            <a id="share-fb" class="btn btn-ghost" href="#" title="Chia s·∫ª l√™n Facebook">Chia s·∫ª</a>
            <a id="cv-top" class="btn btn-download" href="#" title="T·∫£i CV">T·∫£i CV</a>
          </div>

          <p class="lead" style="margin-top:18px;color:var(--muted)">Chuy√™n: thi·∫øt k·∫ø l√≤ ƒë√∫c c√¥ng nghi·ªáp, t·ªëi ∆∞u nƒÉng su·∫•t, b·∫£n v·∫Ω s·∫£n xu·∫•t theo ti√™u chu·∫©n c√¥ng nghi·ªáp.</p>
        </div>
        <aside class="hero-card reveal">
          <img src="cover.jpg" alt="Cover">
          <div style="margin-top:12px">
            <h3 style="margin:0">K·ªπ nƒÉng & d·ªãch v·ª•</h3>
            <div class="skills">SolidWorks ‚Ä¢ NX ‚Ä¢ PLC ‚Ä¢ Thi·∫øt k·∫ø l√≤ ƒë√∫c ‚Ä¢ T·ªëi ∆∞u quy tr√¨nh</div>
          </div>
        </aside>
      </section>
<!-- N√∫t m·ªü Video -->
<button id="btn-video" class="btn btn-download">üé¨ Xem Video Gi·ªõi thi·ªáu</button>

<!-- Popup Video -->
<div id="video-popup" aria-hidden="true" 
     style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);
            align-items:center;justify-content:center;z-index:9999">
  <div style="background:#000;padding:10px;border-radius:14px;
              box-shadow:0 20px 60px rgba(0,0,0,0.6);
              animation:zoomIn .3s ease;max-width:90vw;max-height:80vh">
    <!-- Video nh√∫ng Google Drive -->
    <iframe src="https://drive.google.com/file/d/1VzJ8pOhaZRrxigB1Ix3kwhDadp43C5k5/preview" 
            style="width:100%;height:400px;border:none;border-radius:10px" 
            allow="autoplay; encrypted-media" allowfullscreen>
    </iframe>
    <button id="video-close" class="btn btn-ghost" style="margin-top:10px;width:100%">ƒê√≥ng</button>
  </div>
</div>

<style>
@keyframes zoomIn {
  from { transform:scale(0.92); opacity:0 }
  to   { transform:scale(1);   opacity:1 }
}
</style>

<script>
const videoBtn   = document.getElementById("btn-video");
const videoPopup = document.getElementById("video-popup");
const videoClose = document.getElementById("video-close");
const bgMusic    = document.getElementById("bg-music"); // n·∫øu c√≥ nh·∫°c n·ªÅn

// M·ªü popup video
if(videoBtn){
  videoBtn.addEventListener("click", ()=>{
    videoPopup.style.display = "flex";
    videoPopup.setAttribute("aria-hidden","false");
    if(bgMusic){ bgMusic.pause(); bgMusic.currentTime=0; bgMusic.muted=true; }
  });
}

// ƒê√≥ng popup video
if(videoClose){
  videoClose.addEventListener("click", ()=>{
    videoPopup.style.display = "none";
    videoPopup.setAttribute("aria-hidden","true");
  });
}

// Click ngo√†i popup c≈©ng ƒë√≥ng
if(videoPopup){
  videoPopup.addEventListener("click", e=>{
    if(e.target===videoPopup){
      videoPopup.style.display="none";
      videoPopup.setAttribute("aria-hidden","true");
    }
  });
}
</script>


      <!-- projects -->
      <section id="work" class="section">
        <h2>D·ª± √°n ti√™u bi·ªÉu</h2>
        <div class="projects">
          <article class="project reveal">
            <div class="card-inner">
              <h4>1) L√í ƒê√öC TDH VN</h4>
              <p>Thi·∫øt k·∫ø l√≤ ƒë√∫c s·∫£n xu·∫•t nh√¥m, t·ªëi ∆∞u nhi√™n li·ªáu, n√¢ng cao an to√†n v·∫≠n h√†nh.</p>
            </div>
          </article>

          <article class="project reveal">
            <div class="card-inner">
              <h4>2) H·ªá th·ªëng PLC ƒëi·ªÅu khi·ªÉn</h4>
              <p>Tri·ªÉn khai PLC cho t·ª± ƒë·ªông h√≥a d√¢y chuy·ªÅn ‚Äî gi·∫£m l·ªói, tƒÉng nƒÉng su·∫•t.</p>
            </div>
          </article>

          <article class="project reveal">
            <div class="card-inner">
              <h4>3) Chu·∫©n ho√° b·∫£n v·∫Ω s·∫£n xu·∫•t</h4>
              <p>So·∫°n th·∫£o 2D/3D, h∆∞·ªõng d·∫´n ch·∫ø t·∫°o v√† ki·ªÉm tra ch·∫•t l∆∞·ª£ng.</p>
            </div>
          </article>
        </div>
      </section>

      <!-- gallery -->
      <section id="gallery" class="section">
        <h2>·∫¢nh n·ªïi b·∫≠t</h2>
        <div class="gallery">
          <!-- use data-src for lazy loading -->
          <div class="thumb reveal"><img data-src="hethongkhi.jpg" src="data:image/svg+xml;charset=UTF-8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='300'></svg>" alt="·∫¢nh 1" loading="lazy"><div class="overlay">H·ªá th·ªëng x·ª≠ l√Ω kh√≠ th·∫£i</div></div>
          <div class="thumb reveal"><img data-src="hethongto.jpg" src="data:image/svg+xml;charset=UTF-8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='300'></svg>" alt="·∫¢nh 2" loading="lazy"><div class="overlay">H·ªá th·ªëng x∆∞·ªüng t√°i ch·∫ø nh√¥m </div></div>
          <div class="thumb reveal"><img data-src="lot4.jpg" src="data:image/svg+xml;charset=UTF-8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='300'></svg>" alt="·∫¢nh 3" loading="lazy"><div class="overlay">L√≤ Nhi·ªát Luy·ªán T4</div></div>
          <div class="thumb reveal"><img data-src="lo3.jpg" src="data:image/svg+xml;charset=UTF-8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='300'></svg>" alt="·∫¢nh 4" loading="lazy"><div class="overlay">L√≤ b√†n xoay kh√≠ gas </div></div>
          <div class="thumb reveal"><img data-src="robot.jpg" src="data:image/svg+xml;charset=UTF-8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='300'></svg>" alt="·∫¢nh 5" loading="lazy"><div class="overlay">C√°nh tay robot</div></div>
          <div class="thumb reveal"><img data-src="tudien.jpg" src="data:image/svg+xml;charset=UTF-8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='300'></svg>" alt="·∫¢nh 6" loading="lazy"><div class="overlay">T·ªß ƒëi·ªán c√¥ng nghi·ªáp</div></div>
        </div>
      </section>

      <!-- CV -->
      <section id="cv" class="section">
        <h2>Curriculum Vitae</h2>
        <div class="cv-wrap">
          <div class="cv-card reveal">
            <strong>Tr∆∞∆°ng Ph√∫ Thanh</strong>
            <div style="color:var(--muted);margin-top:6px">Mechatronic Engineer ‚Äî CAD & Automation</div>
            <div class="cv-actions" style="margin-top:12px">
              <a id="cv-download" class="btn btn-primary" href="https://drive.google.com/uc?export=download&id=1s1XLcWM0OFzPRaXP4eGaxrfsam7pGQxo" target="_blank">Download CV (PDF)</a>
              <a id="cv-open" class="btn btn-ghost" href="https://drive.google.com/file/d/1s1XLcWM0OFzPRaXP4eGaxrfsam7pGQxo/view" target="_blank">M·ªü tr√™n Drive</a>
            </div>
            <p style="margin-top:12px;color:var(--muted)">üìû <strong>0852 040 103</strong> ¬∑ ‚úâÔ∏è <strong>truongthanh040103@gmail.com</strong></p>
          </div>

          <div class="embed-cv reveal">
            <iframe src="https://drive.google.com/file/d/1s1XLcWM0OFzPRaXP4eGaxrfsam7pGQxo/preview" style="width:100%;height:520px;border:0"></iframe>
          </div>
        </div>
      </section>

      <!-- contact -->
      <section id="contact" class="section">
        <h2>Li√™n h·ªá</h2>
        <div class="contact reveal">
          <div class="left">
            <div style="font-weight:800">Thanh</div>
            <div class="info" style="color:var(--muted)">üìû <a href="tel:+84852040103">0852 040 103</a> ¬∑ ‚úâÔ∏è <a href="mailto:truongthanh040103@gmail.com">truongthanh040103@gmail.com</a></div>
            <div style="margin-top:8px;color:var(--muted)">Facebook: <a href="https://web.facebook.com/thanh.oppa.399" target="_blank">thanh.oppa.399</a></div>
          </div>

          <div class="socials">
            <a class="btn btn-ghost" href="https://web.facebook.com/thanh.oppa.399" target="_blank">Facebook</a>
            <a class="btn btn-ghost" href="https://zalo.me/84852040103" target="_blank" style="background:#25d366;color:white">Zalo</a>
          </div>
        </div>
<!-- N√∫t m·ªü QR -->
<button id="btn-qr" class="btn btn-download">üì± Qu√©t QR</button>

<!-- Popup QR -->
<div id="qr-popup" aria-hidden="true" 
     style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.7);
            align-items:center;justify-content:center;z-index:9999">
  <div style="background:#fff;padding:20px;border-radius:14px;
              box-shadow:0 20px 60px rgba(0,0,0,0.4);text-align:center;
              animation:zoomIn .3s ease;max-width:90%;width:300px">
    <h3 style="margin-top:0">Qu√©t QR ƒë·ªÉ k·∫øt n·ªëi nhanh</h3>
    <img id="qr-img" src="zalo.jpg" alt="QR Zalo" 
         style="max-width:220px;height:auto;margin:12px auto;display:block;
                border-radius:10px;border:1px solid #eee">
    <div id="qr-error" style="display:none;color:red;margin-top:8px">
      ‚ö†Ô∏è Kh√¥ng t√¨m th·∫•y ·∫£nh QR (zalo.jpg). Vui l√≤ng ki·ªÉm tra l·∫°i file.
    </div>
    <button id="qr-close" class="btn btn-ghost" style="margin-top:10px">ƒê√≥ng</button>
  </div>
</div>

<style>
@keyframes zoomIn {
  from { transform:scale(0.92); opacity:0 }
  to   { transform:scale(1);   opacity:1 }
}
</style>

<script>
const qrBtn = document.getElementById("btn-qr");
const qrPopup = document.getElementById("qr-popup");
const qrClose = document.getElementById("qr-close");
const qrImg = document.getElementById("qr-img");
const qrError = document.getElementById("qr-error");

// Ki·ªÉm tra n·∫øu ·∫£nh load l·ªói
qrImg.onerror = () => {
  qrImg.style.display = "none";
  qrError.style.display = "block";
};

if(qrBtn){
  qrBtn.addEventListener("click", ()=>{
    qrPopup.style.display = "flex";
    qrPopup.setAttribute("aria-hidden","false");
  });
}
if(qrClose){
  qrClose.addEventListener("click", ()=>{
    qrPopup.style.display = "none";
    qrPopup.setAttribute("aria-hidden","true");
  });
}
if(qrPopup){
  qrPopup.addEventListener("click", e=>{
    if(e.target===qrPopup){
      qrPopup.style.display="none";
      qrPopup.setAttribute("aria-hidden","true");
    }
  });
}
</script>


        <!-- simple form -> mailto -->
        <form id="contact-form" style="margin-top:14px;display:grid;gap:10px;max-width:760px" class="reveal">
          <input type="text" id="c-name" placeholder="H·ªç t√™n" required style="padding:10px;border-radius:8px;border:1px solid #e8eef8">
          <input type="text" id="c-contact" placeholder="S·ªë ƒëi·ªán tho·∫°i ho·∫∑c email" required style="padding:10px;border-radius:8px;border:1px solid #e8eef8">
          <textarea id="c-message" placeholder="N·ªôi dung" required style="padding:10px;border-radius:8px;border:1px solid #e8eef8;min-height:110px"></textarea>
          <input type="text" id="hp" style="display:none" aria-hidden="true" autocomplete="off">
          <div>
            <button class="btn btn-primary" type="submit">G·ª≠i y√™u c·∫ßu</button>
            <button class="btn btn-ghost" type="button" id="btn-call" style="margin-left:8px">G·ªçi ngay</button>
          </div>
        </form>
      </section>
    </main>

    <footer>¬© <span id="year"></span> ‚Äî Tr∆∞∆°ng Ph√∫ Thanh ‚Ä¢ Mechatronic Engineer ‚Ä¢ Hanoi</footer>
  </div>

  <!-- lightbox -->
  <div id="lightbox" class="modal" aria-hidden="true">
    <img id="lightbox-img" src="" alt="Xem l·ªõn">
  </div>

  <!-- chatbox -->
<div id="chat-toggle" title="Nh·∫Øn tin nhanh">üí¨</div>
<aside id="chat-panel" aria-hidden="true">
  <header>
    <span>H·ªèi nhanh ‚Äî Thanh</span>
    <div style="display:flex;gap:6px;align-items:center">
      <a href="tel:+84852040103" title="G·ªçi ngay" style="color:#fff;text-decoration:none;font-size:14px">üìû</a>
      <a href="https://zalo.me/84852040103" target="_blank" title="Chat Zalo" style="color:#fff;text-decoration:none;font-size:14px">üí¨</a>
      <button id="chat-close" aria-label="ƒê√≥ng">‚úï</button>
    </div>
  </header>
  <div class="messages" id="chat-messages">
    <div class="muted">Xin ch√†o! G·ª≠i tin nh·∫Øn t·ªõi t√¥i ho·∫∑c ch·ªçn 'G·ªçi/Zalo'.</div>
  </div>
  <form id="chat-form">
    <input id="chat-input" placeholder="Vi·∫øt n·ªôi dung...">
    <button type="submit">G·ª≠i</button>
  </form>
</aside>


  <!-- popup music (kept) -->
  <div id="music-popup" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.75);display:flex;align-items:center;justify-content:center;z-index:9999;">
    <button onclick="initMusic()" style="padding:16px 32px;font-size:20px;border:none;border-radius:14px;background:linear-gradient(90deg,#06b6d4,#3b82f6);color:#fff;cursor:pointer;font-weight:bold;box-shadow:0 8px 24px rgba(0,0,0,0.4);transition:transform 0.2s;">üé∂ B·∫Øt ƒë·∫ßu nghe nh·∫°c</button>
  </div>

  <!-- Icon nh·∫°c -->
  <div id="music-icon" style="position:fixed;bottom:20px;right:20px;width:54px;height:54px;border-radius:50%;background:linear-gradient(135deg,#2b6cb0,#3b82f6);display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:9998;box-shadow:0 6px 20px rgba(0,0,0,0.3);color:#fff;font-size:24px;font-weight:bold;transition:transform 0.3s;">üéµ</div>

  <!-- Tr√¨nh ph√°t nh·∫°c mini -->
  <div id="music-player" style="position:fixed;bottom:20px;right:84px;background:#fff;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,0.25);padding:12px 16px;align-items:center;gap:12px;z-index:9999;font-family:Inter,sans-serif;opacity:0;transform:translateX(40px);pointer-events:none;transition:all 0.4s ease;">
    <button id="play-btn" style="background:#2b6cb0;color:#fff;border:none;padding:8px 14px;border-radius:10px;cursor:pointer;font-weight:bold;">‚è∏</button>
    <button id="mute-btn" style="background:#ff4757;color:#fff;border:none;padding:8px 14px;border-radius:10px;cursor:pointer;font-weight:bold;">üîä</button>
    <input id="volume" type="range" min="0" max="1" step="0.01" value="0.3" style="cursor:pointer;">
    <span id="vol-label" style="font-size:14px;color:#333;font-weight:bold;">30%</span>
  </div>

  <!-- Nh·∫°c n·ªÅn -->
  <audio id="bg-music" loop>
    <source src="deepside.mp4" type="audio/mp4">
    Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph√°t nh·∫°c.
  </audio>

<script>
/* ---------- Typing effect ---------- */
const phrases = ['K·ªπ s∆∞ C∆° ƒëi·ªán t·ª≠','Chuy√™n gia CAD & SolidWorks','T·ªëi ∆∞u quy tr√¨nh s·∫£n xu·∫•t','Thi·∫øt k·∫ø h·ªá th·ªëng t·ª± ƒë·ªông'];
let pi=0, ti=0;
const typingEl = document.getElementById('typing');
function typeLoop(){
  const p = phrases[pi];
  typingEl.textContent = p.slice(0, ++ti);
  if(ti === p.length){
    setTimeout(()=>{ // pause then delete
      const del = setInterval(()=>{
        typingEl.textContent = p.slice(0, --ti);
        if(ti===0){ clearInterval(del); pi=(pi+1)%phrases.length; setTimeout(typeLoop,250); }
      },40);
    },900);
  } else setTimeout(typeLoop,80);
}
if(typingEl) typeLoop();

/* ---------- Share FB ---------- */
document.getElementById('share-fb').addEventListener('click', e=>{
  e.preventDefault();
  const url = encodeURIComponent(window.location.href);
  window.open('https://www.facebook.com/sharer/sharer.php?u='+url,'_blank','noopener');
});

/* ---------- CV top button links to Drive download (already set in href in HTML) ---------- */
const cvTop = document.getElementById('cv-top');
if(cvTop){
  cvTop.setAttribute('href','https://drive.google.com/uc?export=download&id=1s1XLcWM0OFzPRaXP4eGaxrfsam7pGQxo');
  cvTop.setAttribute('target','_blank');
}

/* ---------- Lightbox for gallery (keeps working with lazy load) ---------- */
const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightbox-img');
function attachLightbox(){
  document.querySelectorAll('.thumb img').forEach(img=>{
    img.addEventListener('click', ()=> {
      // ensure image has loaded src
      if(img.dataset.src && img.src.includes('svg')) img.src = img.dataset.src;
      lightboxImg.src = img.src;
      lightbox.classList.add('active');
      lightbox.setAttribute('aria-hidden','false');
    });
  });
}
attachLightbox();
lightbox.addEventListener('click', ()=> { lightbox.classList.remove('active'); lightbox.setAttribute('aria-hidden','true'); });
document.addEventListener('keydown', e=> { if(e.key==='Escape'){ lightbox.classList.remove('active'); lightbox.setAttribute('aria-hidden','true'); }});

/* ---------- Contact form -> mailto ---------- */
document.getElementById('contact-form').addEventListener('submit', function(e){
  e.preventDefault();
  const hp = document.getElementById('hp').value.trim();
  if(hp){ alert('Spam detected'); return; }
  const name = document.getElementById('c-name').value.trim();
  const contact = document.getElementById('c-contact').value.trim();
  const message = document.getElementById('c-message').value.trim();
  const subject = encodeURIComponent('Y√™u c·∫ßu t∆∞ v·∫•n t·ª´ website');
  const body = encodeURIComponent(`T√™n: ${name}\nLi√™n h·ªá: ${contact}\n\nN·ªôi dung:\n${message}`);
  window.location.href = `mailto:truongthanh040103@gmail.com?subject=${subject}&body=${body}`;
});

/* ---------- Call button ---------- */
document.getElementById('btn-call').addEventListener('click', ()=> window.location.href='tel:+84852040103');

/* ---------- Reveal on scroll ---------- */
const observer = new IntersectionObserver((entries)=>{
  entries.forEach(en=>{
    if(en.isIntersecting) en.target.classList.add('in');
  });
},{threshold:0.12});
document.querySelectorAll('.reveal').forEach(el=>observer.observe(el));

/* ---------- Set year ---------- */
document.getElementById('year').textContent = new Date().getFullYear();

/* ---------- Music controls (kept) ---------- */
const audio = document.getElementById("bg-music");
const playBtn = document.getElementById("play-btn");
const muteBtn = document.getElementById("mute-btn");
const volumeSlider = document.getElementById("volume");
const volLabel = document.getElementById("vol-label");
const player = document.getElementById("music-player");
const icon = document.getElementById("music-icon");

function initMusic(){
  audio.volume = 0.3;
  volumeSlider.value = 0.3;
  volLabel.textContent = "30%";
  audio.play().catch(err => console.log("Kh√¥ng th·ªÉ ph√°t nh·∫°c:", err));
  document.getElementById("music-popup").style.display = "none";
}

playBtn.addEventListener("click", ()=>{
  if(audio.paused){ audio.play(); playBtn.textContent = "‚è∏"; } else { audio.pause(); playBtn.textContent = "‚ñ∂"; }
});

muteBtn.addEventListener("click", ()=>{ audio.muted = !audio.muted; muteBtn.textContent = audio.muted ? "üîá" : "üîä"; });

volumeSlider.addEventListener("input", ()=>{ const val = parseFloat(volumeSlider.value); audio.volume = val; volLabel.textContent = Math.round(val * 100) + "%"; });

icon.addEventListener("mouseenter", ()=>{ player.style.opacity = "1"; player.style.transform = "translateX(0)"; player.style.pointerEvents = "auto"; icon.style.transform = "scale(1.1)"; });
icon.addEventListener("mouseleave", ()=>{ player.style.opacity = "0"; player.style.transform = "translateX(40px)"; player.style.pointerEvents = "none"; icon.style.transform = "scale(1)"; });
player.addEventListener("mouseenter", ()=>{ player.style.opacity = "1"; player.style.transform = "translateX(0)"; player.style.pointerEvents = "auto"; });
player.addEventListener("mouseleave", ()=>{ player.style.opacity = "0"; player.style.transform = "translateX(40px)"; player.style.pointerEvents = "none"; });

document.addEventListener("keydown", (e)=>{
  if(e.code === "F5"){ let v = Math.min(1, audio.volume + 0.1); audio.volume = v; volumeSlider.value = v; volLabel.textContent = Math.round(v*100)+"%"; }
  if(e.code === "F6"){ let v = Math.max(0, audio.volume - 0.1); audio.volume = v; volumeSlider.value = v; volLabel.textContent = Math.round(v*100)+"%"; }
  if(e.code === "F3"){ audio.muted = !audio.muted; muteBtn.textContent = audio.muted ? "üîá" : "üîä"; }
});

/* ---------- Simple particle system (lightweight, no external lib) ---------- */
(function(){
  const canvas = document.getElementById('particle-canvas');
  const ctx = canvas.getContext('2d');
  let w=canvas.width=innerWidth, h=canvas.height=innerHeight;
  const particles=[]; const count=Math.round((w*h)/65000); // scale with screen
  function rand(min,max){return Math.random()*(max-min)+min}
  function Particle(){this.x=rand(0,w);this.y=rand(0,h);this.vx=rand(-0.2,0.2);this.vy=rand(-0.2,0.2);this.r=rand(0.6,1.8);this.alpha=rand(0.15,0.6)}
  for(let i=0;i<count;i++) particles.push(new Particle());
  function resize(){w=canvas.width=innerWidth;h=canvas.height=innerHeight}
  addEventListener('resize', resize);
  function draw(){ctx.clearRect(0,0,w,h);
    for(let i=0;i<particles.length;i++){const p=particles[i];p.x+=p.vx;p.y+=p.vy; if(p.x<0)p.x=w; if(p.x> w)p.x=0; if(p.y<0)p.y=h; if(p.y>h)p.y=0; ctx.beginPath();ctx.fillStyle=`rgba(255,255,255,${p.alpha})`;ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();}
    // lines between close particles
    for(let i=0;i<particles.length;i++){for(let j=i+1;j<particles.length;j++){const a=particles[i], b=particles[j]; const dx=a.x-b.x, dy=a.y-b.y; const dist=dx*dx+dy*dy; if(dist<9000){ ctx.strokeStyle='rgba(255,255,255,'+ (0.06) +')'; ctx.lineWidth=0.6; ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke(); }} }
    requestAnimationFrame(draw);
  }
  draw();
})();

/* ---------- Lazy-load images + zoom-in when visible ---------- */
(function(){
  const imgs = document.querySelectorAll('.thumb img');
  if('IntersectionObserver' in window){
    const imgObserver = new IntersectionObserver((entries, obs)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          const img=entry.target;
          if(img.dataset.src && img.src.includes('svg')) img.src = img.dataset.src;
          img.addEventListener('load', ()=>{ img.classList.add('loaded'); });
          // small zoom-in after load
          setTimeout(()=> img.classList.add('zoomed'), 600);
          obs.unobserve(img);
        }
      });
    }, {threshold:0.2});
    imgs.forEach(i=>imgObserver.observe(i));
  } else {
    // fallback: load all
    imgs.forEach(img=>{ if(img.dataset.src) img.src = img.dataset.src; img.classList.add('loaded'); });
  }
})();

/* ---------- 3D card hover / parallax for .project and .thumb ---------- */
(function(){
  function applyParallax(el, inner){
    el.addEventListener('mousemove', (ev)=>{
      const r = el.getBoundingClientRect();
      const px = (ev.clientX - r.left) / r.width; // 0-1
      const py = (ev.clientY - r.top) / r.height;
      const rotY = (px - 0.5) * 12; // degrees
      const rotX = (0.5 - py) * 12;
      inner.style.transform = `rotateX(${rotX}deg) rotateY(${rotY}deg) translateZ(6px)`;
      // subtle shine
      el.style.boxShadow = `${-rotY*1.5}px ${rotX*1.2}px 30px rgba(11,20,43,0.12)`;
    });
    el.addEventListener('mouseleave', ()=>{ inner.style.transform='none'; el.style.boxShadow='0 10px 30px rgba(11,20,43,0.04)'; });
  }
  document.querySelectorAll('.project').forEach(p=> applyParallax(p, p.querySelector('.card-inner')));
  document.querySelectorAll('.thumb').forEach(t=> applyParallax(t, t.querySelector('img')));
})();

/* ---------- Chatbox logic (mini ƒë·∫πp) ---------- */
(function(){
  const toggle = document.getElementById('chat-toggle');
  const panel = document.getElementById('chat-panel');
  const closeBtn = document.getElementById('chat-close');
  const form = document.getElementById('chat-form');
  const messages = document.getElementById('chat-messages');

  toggle.addEventListener('click', ()=>{
    panel.classList.toggle('open');
    panel.setAttribute('aria-hidden', panel.classList.contains('open')? 'false':'true');
  });
  closeBtn.addEventListener('click', ()=>{
    panel.classList.remove('open');
    panel.setAttribute('aria-hidden','true');
  });

  form.addEventListener('submit', (e)=>{
    e.preventDefault();
    const input = document.getElementById('chat-input');
    const text = input.value.trim();
    if(!text) return;

    // Tin nh·∫Øn user
    const userMsg = document.createElement('div');
    userMsg.className = 'message user';
    userMsg.textContent = text;
    messages.appendChild(userMsg);

    // Auto reply gi·∫£ l·∫≠p
    const botMsg = document.createElement('div');
    botMsg.className = 'message bot';
    botMsg.textContent = "C·∫£m ∆°n b·∫°n! T√¥i s·∫Ω li√™n h·ªá l·∫°i s·ªõm.";
    setTimeout(()=>{ messages.appendChild(botMsg); messages.scrollTop = messages.scrollHeight; }, 600);

    messages.scrollTop = messages.scrollHeight;
    input.value='';
  });
})();


</script>

<!-- JSON-LD structured data (add URL after deploy) -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"Person",
  "name":"Tr∆∞∆°ng Ph√∫ Thanh",
  "jobTitle":"Mechatronic Engineer",
  "url":"",
  "sameAs":["https://web.facebook.com/thanh.oppa.399"],
  "telephone":"+84852040103",
  "email":"truongthanh040103@gmail.com"
}

</script>
</body>
</html>

